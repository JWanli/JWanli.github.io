<template>
  <el-container class="layout-container">
    
    <el-header class="header-box">
      <el-menu
        :default-active="activeIndex"
        mode="horizontal"
        background-color="#333"
        text-color="#fff"
        active-text-color="#ffd04b"
        :ellipsis="false" 
        router
        style="border:0;"
      >
        <el-menu-item index="/">
          <span style="font-size: 20px; font-weight: bold; margin-right: 10px;">ğŸ¦¾</span>
          <span style="font-weight: bold;">é™†åˆæªæ±‡</span>
        </el-menu-item>
        <div class="flex-grow" /> <el-menu-item index="/">ä¸»é¡µ</el-menu-item>
        <el-menu-item index="/rank">æ’è¡Œæ¦œ</el-menu-item>
        <el-menu-item index="/activity">æ´»åŠ¨è®°å½•</el-menu-item>
      </el-menu>
    </el-header>

    <el-main class="main-box">
      <router-view v-slot="{ Component }">
        <transition name="el-fade-in-linear">
          <component :is="Component" />
        </transition>
      </router-view>
    </el-main>

    <el-footer class="footer-box">
      <p>
        Â© 2026 JWanli Engineering. Powered by 
        <el-link type="primary" href="https://vuejs.org/" target="_blank">Vue 3</el-link> 
        & 
        <el-link type="success" href="https://element-plus.org/" target="_blank">Element Plus</el-link>
      </p>
      <p style="font-size: 12px; color: #999;">
        æœ¬ç«™æºç æ‰˜ç®¡äº GitHub Pages | ä¼ ç»Ÿæ­¦æœ¯
      </p>
    </el-footer>

  </el-container>
</template>

<script setup>
import { ref, watch } from 'vue'
import { useRoute } from 'vue-router'

const route = useRoute()
const activeIndex = ref('/')

// ç›‘å¬è·¯ç”±å˜åŒ–ï¼Œè‡ªåŠ¨é«˜äº®å¯¹åº”çš„èœå•é¡¹
watch(() => route.path, (newPath) => {
  activeIndex.value = newPath
})
</script>

<style>
/* 1. å…¨å±€ç›’å­æ¨¡å‹é‡ç½®ï¼šè¿™æ˜¯å·¥ç¨‹åŒ–å¼€å‘çš„æ ‡é…ï¼Œé˜²æ­¢ padding æ’‘å¤§ç›’å­ */
* {
  box-sizing: border-box;
}

/* 2. åŸºç¡€è®¾ç½® */
html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  /* è¿™é‡Œçš„èƒŒæ™¯è‰²æ˜¯ä¸ºäº†é˜²æ­¢æ»šåŠ¨è¿‡å¿«æ—¶å‡ºç°ç™½åº• */
  background-color: #f0f2f5; 
}

/* 3. å…³é”®ä¿®æ”¹ï¼š#app ä¸è¦è®¾ height: 100%ï¼Œå¦åˆ™å†…å®¹å¤šäº†èƒŒæ™¯ä¼šæ–­ */
#app {
  min-height: 100vh; /* è‡³å°‘å æ»¡ä¸€å±ï¼Œå†…å®¹å¤šè‡ªåŠ¨é•¿é«˜ */
  display: flex;
  flex-direction: column;
}

/* å¸ƒå±€å®¹å™¨ */
.layout-container {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

/* Header */
.header-box {
  padding: 0;
  background-color: #333;
  /* åŠ ä¸Š z-index ç¡®ä¿å®ƒæ°¸è¿œæµ®åœ¨å†…å®¹ä¸Šé¢ï¼ˆå¯é€‰ï¼‰ */
  position: relative;
  z-index: 100;
}

/* Main å†…å®¹åŒº */
.main-box {
  flex-grow: 1; /* è‡ªåŠ¨æ’‘æ»¡å‰©ä½™ç©ºé—´ */
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
  background-color: #f0f2f5;
  /* é˜²æ­¢å†…å®¹æº¢å‡ºäº§ç”Ÿæ¨ªå‘æ»šåŠ¨æ¡ */
  overflow-x: hidden; 
}

/* Footer åº•éƒ¨æ  */
.footer-box {
  text-align: center;
  background-color: #2c3e50;
  color: #fff;
  /* è°ƒæ•´ä¸€ä¸‹ paddingï¼Œè®©å®ƒçœ‹èµ·æ¥æ›´ç´§å‡‘ä¸€ç‚¹ï¼Œä¸å†é‚£ä¹ˆæ¾æ•£ */
  padding: 30px 20px; 
  width: 100%;
}

/* 4. æ–°å¢ï¼šå¼ºåˆ¶å»æ‰ Footer é‡Œé¢ p æ ‡ç­¾çš„é»˜è®¤è¾¹è·ï¼Œæ¶ˆé™¤â€œç¼éš™â€ */
.footer-box p {
  margin: 5px 0; /* ç»™ä¸€ç‚¹ç‚¹è¡Œé—´è·å³å¯ */
  line-height: 1.5; /* ä¼˜åŒ–é˜…è¯»ä½“éªŒ */
}

/* å ä½ç¬¦ */
.flex-grow {
  flex-grow: 1;
}
</style>